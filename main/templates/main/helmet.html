{% extends "main/base.html" %} 
{% block content %}

<div class="untree_co-hero py-5 mb-0" id="home-section">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="dots"></div>
        <div class="row justify-content-center">
          <div class="col-md-7 text-center">
            <h1 class="heading" data-aos="fade-up" data-aos-delay="0">
              헬멧 인증
            </h1>
          </div>
        </div>
      </div>
    </div>
    <!-- /.row -->
  </div>
  <!-- /.container -->
  <!-- <div class="illustration">
      
    </div> -->
</div>
<!-- /.untree_co-hero -->

<div class="container pb-5 mb-5 border-bottom">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="h6 mb-3 text-black">기능 소개</h1>
    </div>
    <div class="col-lg-12">
      <div class="custom-accordion" id="accordion_1">
        <div class="accordion-item">
          <h2 class="mb-0">
            <button
              class="btn btn-link"
              type="button"
              data-toggle="collapse"
              data-target="#collapseOne"
              aria-expanded="true"
              aria-controls="collapseOne"
            >
            헬멧 착용 탐지 기능
            </button>
          </h2>

          <div
            id="collapseOne"
            class="collapse show"
            aria-labelledby="headingOne"
            data-parent="#accordion_1"
          >
            <div class="accordion-body">
              헬멧을 썼는지 안썼는지 YOLOv5 모델을 활용한 AI가 탐지하여 판별해 드립니다.
            </div>
          </div>
        </div>
        <!-- .accordion-item -->

        <div class="accordion-item">
          <h2 class="mb-0">
            <button
              class="btn btn-link collapsed"
              type="button"
              data-toggle="collapse"
              data-target="#collapseTwo"
              aria-expanded="false"
              aria-controls="collapseTwo"
            >
            마일리지 적립 기능
            </button>
          </h2>
          <div
            id="collapseTwo"
            class="collapse"
            aria-labelledby="headingTwo"
            data-parent="#accordion_1"
          >
            <div class="accordion-body">
              AI가 헬멧을 썼다고 판단하는 경우 회원님의 마일리지가 적립됩니다.
            </div>
          </div>
        </div>
        <!-- .accordion-item -->
        <div class="accordion-item">
          <h2 class="mb-0">
            <button
              class="btn btn-link collapsed"
              type="button"
              data-toggle="collapse"
              data-target="#collapseThree"
              aria-expanded="false"
              aria-controls="collapseThree"
            >
              How to link your paypal and bank account?
            </button>
          </h2>

          <div
            id="collapseThree"
            class="collapse"
            aria-labelledby="headingThree"
            data-parent="#accordion_1"
          >
            <div class="accordion-body">
              When she reached the first hills of the Italic Mountains, she had
              a last view back on the skyline of her hometown Bookmarksgrove,
              the headline of Alphabet Village and the subline of her own road,
              the Line Lane. Pityful a rethoric question ran over her cheek,
              then she continued her way.
            </div>
          </div>
        </div>
        <!-- .accordion-item -->
      </div>
    </div>
  </div>
</div>

<div class="container pb-5 mb-5 border-bottom">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="h6 mb-3 text-black">Form</h1>
    </div>
    <div class="col-lg-7">
      <form method="post" enctype="multipart/form-data" action="">
        {% csrf_token %}
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label class="text-black" for="fname">이름</label>
              <input type="text" class="form-control" id="fname" placeholder="김포도" name="name" />
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label class="text-black" for="lname">생년월일</label>
              <input type="date" class="form-control" id="lname" name="birthday" />
            </div>
          </div>
        </div>
        <div class="form-group">
          <label class="text-black" for="email">전화번호</label>
          <input
            type="tel"
            class="form-control"
            id="email"
            aria-describedby="emailHelp"
            placeholder="010-1234-5678"
            name="tel"
          />
          <small id="emailHelp" class="form-text text-muted"
            >개인정보는 마일리지 적립을 위한 목적 이외에는 사용되지 않습니다.</small
          >
        </div>
        <div class="form-group">
          <label class="text-black" for="file">사진 업로드</label>
          <input
            type="file"
            class="form-control"
            accept=".jpg, .jpeg"
            name="image"
            value="이미지" 
            placeholder="이미지"
          />

          <small id="emailHelp" class="form-text text-muted"
            >정면을 보고 헬멧이 전부 나온 사진을 업로드 해주세요. &nbsp; jpg, jpeg 파일만 업로드 가능합니다.</small
          >

        </div>

        <div style="padding-top: 50px"></div>
        <div class="form-group">
          <label class="control control--checkbox">
            <span class="caption">내용을 확인하였습니다.</span>
            <input type="checkbox" />
            <div class="control__indicator"></div>
          </label>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
    </div>
  </div>
</div>

{% if score >= 0.8 %}
<div class="container pb-5 mb-5 border-bottom">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="h6 mb-3 text-black">결과</h1>
    </div>
    <div class="col-lg-7">
      <ul class="list-unstyled list-check primary">
        <li>헬멧 인증 사진을 분석한 결과,</li>
        <li>헬멧 착용이 확인되었습니다!</li>
        <li>300pt가 적립되었습니다!</li>
      </ul>
      <ul>
      <img src="{{inference_img}}" width="600" ">
    </ul>
    </div>
  </div>
</div>

{% elif score <= 0.8 %}
<div class="container pb-5 mb-5 border-bottom">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="h6 mb-3 text-black">결과</h1>
    </div>
    <div class="col-lg-7">
      <ul class="list-unstyled list-check primary">
        <li>헬멧 인증 사진을 분석한 결과,</li>
        <li>헬멧 착용 확인이 어렵습니다!</li>
        <li>헬멧을 올바르게 착용한 사진을 업로드 해주세요!</li>
      </ul>
      <ul>
      <img src="{{inference_img}}" width="600" ">
    </ul>
    </div>
  </div>
</div>

{% endif %}

{% endblock %}
