{% extends "main/base.html" %}

{% block content %}

  <div class="untree_co-hero py-5 mb-0" id="home-section">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="dots"></div>
          <div class="row justify-content-center">
            <div class="col-md-7 text-center">
              <h1 class="heading" data-aos="fade-up" data-aos-delay="0">수요 예측</h1>
            </div>
          </div>
        </div>
      </div> <!-- /.row -->
    </div> <!-- /.container -->
    <!-- <div class="illustration">
      
    </div> -->
  </div> <!-- /.untree_co-hero -->

  <div class="container pb-5 mb-5 border-bottom">
    <div class="row">
      <div class="col-lg-12">
        <h1 class="h6 mb-3 text-black">기능 소개</h1>
      </div>
      <div class="col-lg-12">
        <div class="custom-accordion" id="accordion_1">
          <div class="accordion-item">
            <h2 class="mb-0">
              <button
                class="btn btn-link"
                type="button"
                data-toggle="collapse"
                data-target="#collapseOne"
                aria-expanded="true"
                aria-controls="collapseOne"
              >
                How to download and register?
              </button>
            </h2>
  
            <div
              id="collapseOne"
              class="collapse show"
              aria-labelledby="headingOne"
              data-parent="#accordion_1"
            >
              <div class="accordion-body">
                Far far away, behind the word mountains, far from the countries
                Vokalia and Consonantia, there live the blind texts. Separated
                they live in Bookmarksgrove right at the coast of the Semantics, a
                large language ocean.
              </div>
            </div>
          </div>
          <!-- .accordion-item -->
  
          <div class="accordion-item">
            <h2 class="mb-0">
              <button
                class="btn btn-link collapsed"
                type="button"
                data-toggle="collapse"
                data-target="#collapseTwo"
                aria-expanded="false"
                aria-controls="collapseTwo"
              >
                How to create your paypal account?
              </button>
            </h2>
            <div
              id="collapseTwo"
              class="collapse"
              aria-labelledby="headingTwo"
              data-parent="#accordion_1"
            >
              <div class="accordion-body">
                A small river named Duden flows by their place and supplies it
                with the necessary regelialia. It is a paradisematic country, in
                which roasted parts of sentences fly into your mouth.
              </div>
            </div>
          </div>
          <!-- .accordion-item -->
          <div class="accordion-item">
            <h2 class="mb-0">
              <button
                class="btn btn-link collapsed"
                type="button"
                data-toggle="collapse"
                data-target="#collapseThree"
                aria-expanded="false"
                aria-controls="collapseThree"
              >
                How to link your paypal and bank account?
              </button>
            </h2>
  
            <div
              id="collapseThree"
              class="collapse"
              aria-labelledby="headingThree"
              data-parent="#accordion_1"
            >
              <div class="accordion-body">
                When she reached the first hills of the Italic Mountains, she had
                a last view back on the skyline of her hometown Bookmarksgrove,
                the headline of Alphabet Village and the subline of her own road,
                the Line Lane. Pityful a rethoric question ran over her cheek,
                then she continued her way.
              </div>
            </div>
          </div>
          <!-- .accordion-item -->
        </div>
      </div>
    </div>
  </div>


  <div class="container pb-5 mb-5 border-bottom">
    <div class="row">
      <div class="col-lg-12">
        <h1 class="h6 mb-3 text-black">Form</h1>
      </div>
      <div class="col-lg-7">
        <form method="post" action="">
            {% csrf_token %}
          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label class="text-black" for="fname">예상 이용 날짜를 선택해주세요</label>
                <input name="days" type="number" class="form-control" id="fname" min="1" max="31">
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label class="text-black" for="fname">지역을 선택해주세요</label>
                  <select name="counties" class="form-control" id="fname">
                    <option value='' selected></option>
                    <option value="강남구">강남구</option>
                    <option value="송파구">송파구</option>
                    <option value="영등포구">영등포구</option>
                  </select>
              </div>
            </div>
          </div>

          <div style="padding-top: 50px"></div>
          <div class="form-group">
            <label class="control control--checkbox">
              <span class="caption">내용을 확인하였습니다.</span>
              <input type="checkbox" />
              <div class="control__indicator"></div>
            </label>
          </div>
          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
    </div>
  </div>

  {% if counties %}
  <div class="container pb-5 mb-5 border-bottom">
    <div class="row">
      <div class="col-lg-12">
        <h1 class="h6 mb-3 text-black">예측 결과</h1>
      </div>
      <div class="col-lg-7">
        <ul class="list-unstyled list-check primary">
          <li><b>{{ days }}</b>일 뒤에 {{ counties }}에서 따릉이를 타신다면,</li>
          <li><b>{{ recommend_where }}</b> 에서 타시는걸 추천해요!😀</li>
          <li>평소보다 <b>{{ recommend }}%</b> 만큼 사람이 덜 붐벼요!</li> 
          <li><b>{{ do_not_recommend_where }}</b> 에서 타시는건 추천하지 않아요😕</li>
          <li>평소보다 <b>{{ do_not_recommend }}%</b> 만큼 사람이 더 붐벼요.</li>
        </ul>
      </div>
    </div>
    <div class='tableauPlaceholder' id='viz1662774206471' style='position: relative'><noscript><a href='#'><img alt='대시보드 1 ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;cp&#47;cp1_mobility_spotinfo&#47;1_1&#47;1_rss.png' style='border: none' /></a></noscript><object class='tableauViz'  style='display:none;'><param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' /> <param name='embed_code_version' value='3' /> <param name='site_root' value='' /><param name='name' value='cp1_mobility_spotinfo&#47;1_1' /><param name='tabs' value='no' /><param name='toolbar' value='yes' /><param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;cp&#47;cp1_mobility_spotinfo&#47;1_1&#47;1.png' /> <param name='animate_transition' value='yes' /><param name='display_static_image' value='yes' /><param name='display_spinner' value='yes' /><param name='display_overlay' value='yes' /><param name='display_count' value='yes' /><param name='language' value='ko-KR' /><param name='filter' value='publish=yes' /></object></div>                <script type='text/javascript'>                    var divElement = document.getElementById('viz1662774206471');                    var vizElement = divElement.getElementsByTagName('object')[0];                    if ( divElement.offsetWidth > 800 ) { vizElement.style.minWidth='420px';vizElement.style.maxWidth='650px';vizElement.style.width='100%';vizElement.style.minHeight='587px';vizElement.style.maxHeight='887px';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else if ( divElement.offsetWidth > 500 ) { vizElement.style.minWidth='420px';vizElement.style.maxWidth='650px';vizElement.style.width='100%';vizElement.style.minHeight='587px';vizElement.style.maxHeight='887px';vizElement.style.height=(divElement.offsetWidth*0.75)+'px';} else { vizElement.style.width='100%';vizElement.style.height='727px';}                     var scriptElement = document.createElement('script');                    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';                    vizElement.parentNode.insertBefore(scriptElement, vizElement);                </script>
  </div>
  {% endif %}

{% endblock %}